plugins {
    id("com.github.blindpirate.gogradle") version "0.11.4"
}

golang {
    packagePath = "duty-designator/server"
    goVersion = '1.13.1'
}

dependencies {
    golang {
        build(['pruneopts':'UT', 'digest':'1:586ea76dbd0374d6fb649a91d70d652b7fe0ccffb8910a77468e7702e7901f3d', 'name':'github.com/go-stack/stack', 'commit':'2fee6af1a9795aafbe0253a0cfbdf668e1fb8a9a', 'tag':'v1.8.0', 'subpackages':['...']])
        build(['pruneopts':'UT', 'digest':'1:700b1e527116332847452edf9febc0c252c026785a8c3cfa3f68a8eeffb09ee8', 'name':'github.com/golang/snappy', 'commit':'ff6b7dc882cf4cfba7ee0b9f7dcc1ac096c554aa', 'branch':'master', 'subpackages':['...']])
        build(['pruneopts':'UT', 'digest':'1:582b704bebaa06b48c29b0cec224a6058a09c86883aaddabde889cd1a5f73e1b', 'name':'github.com/google/uuid', 'commit':'0cd6bf5da1e1c83f8b45653022c74f71af0538a4', 'tag':'v1.1.1', 'subpackages':['...']])
        build(['pruneopts':'UT', 'digest':'1:40fdfd6ab85ca32b6935853bbba35935dcb1d796c8135efd85947566c76e662e', 'name':'github.com/xdg/scram', 'commit':'7eeb5667e42c09cb51bf7b7c28aea8c56767da90', 'branch':'master', 'subpackages':['...']])
        build(['pruneopts':'UT', 'digest':'1:f5c1d04bc09c644c592b45b9f0bad4030521b1a7d11c7dadbb272d9439fa6e8e', 'name':'github.com/xdg/stringprep', 'commit':'73f8eece6fdcd902c185bf651de50f3828bed5ed', 'branch':'master', 'subpackages':['...']])
        build(['pruneopts':'UT', 'digest':'1:480e1343dcb5630d200dd23a08d3d81f76c7f938780cb616113c96d90aa37c9b', 'name':'go.mongodb.org/mongo-driver', 'commit':'c520d023af0a89aec8b7f97717b52da270df2c38', 'tag':'v1.1.1', 'subpackages':['bson', 'bson/bsoncodec', 'bson/bsonrw', 'bson/bsontype', 'bson/primitive', 'event', 'internal', 'mongo', 'mongo/options', 'mongo/readconcern', 'mongo/readpref', 'mongo/writeconcern', 'tag', 'version', 'x/bsonx', 'x/bsonx/bsoncore', 'x/mongo/driver', 'x/mongo/driver/address', 'x/mongo/driver/auth', 'x/mongo/driver/auth/internal/gssapi', 'x/mongo/driver/connstring', 'x/mongo/driver/description', 'x/mongo/driver/dns', 'x/mongo/driver/operation', 'x/mongo/driver/session', 'x/mongo/driver/topology', 'x/mongo/driver/uuid', 'x/mongo/driver/wiremessage']])
        build(['pruneopts':'UT', 'digest':'1:f92f6956e4059f6a3efc14924d2dd58ba90da25cc57fe07ae3779ef2f5e0c5f2', 'name':'golang.org/x/crypto', 'commit':'f9e2070545dcd4128a854a97ddf10fbfc3c4b6e4', 'branch':'master', 'subpackages':['pbkdf2']])
        build(['pruneopts':'UT', 'digest':'1:382bb5a7fb4034db3b6a2d19e5a4a6bcf52f4750530603c01ca18a172fa3089b', 'name':'golang.org/x/sync', 'commit':'cd5d95a43a6e21273425c7ae415d3df9ea832eeb', 'branch':'master', 'subpackages':['semaphore']])
        build(['pruneopts':'UT', 'digest':'1:1093f2eb4b344996604f7d8b29a16c5b22ab9e1b25652140d3fede39f640d5cd', 'name':'golang.org/x/text', 'commit':'342b2e1fbaa52c93f31447ad2c6abc048c63e475', 'tag':'v0.3.2', 'subpackages':['internal/gen', 'internal/triegen', 'internal/ucd', 'transform', 'unicode/cldr', 'unicode/norm']])
    }
}

goBuild {
    outputLocation = './.gogradle/server'
}

tasks {
    task("check") {
        dependsOn goCheck
    }
    
    task("test") {
        dependsOn goTest
    }
}